# ä¿¡è¾¾æ¯

##  ç³»ç»Ÿæ¶æ„

### æ§åˆ¶ç¯è·¯
**ä¼ æ„Ÿå™¨é‡‡æ · â†’ åå·®è®¡ç®— â†’ æ§åˆ¶å†³ç­– â†’ ç”µæœºæ‰§è¡Œ â†’ çŠ¶æ€åé¦ˆ**

1. **è¾“å…¥å±‚** (Input)
   - 5è·¯çº¢å¤–ä¼ æ„Ÿå™¨é˜µåˆ— (IR0 ~ IR4)
   - é‡‡æ ·é¢‘ç‡: 100Hz
   - æ•°æ®æ ¼å¼: `0b00100` (ä¸­é—´ä¸º1è¡¨ç¤ºå¯¹å‡†é»‘çº¿)

2. **å¤„ç†å±‚** (Processor)
   - åå·®è®¡ç®—: `error = target_position - current_position`
   - æ§åˆ¶ç®—æ³•: PID / æ¨¡ç³Šæ§åˆ¶
   - è¾“å‡ºé™å¹…: `[-255, 255]`

3. **æ‰§è¡Œå±‚** (Actuator)
   - å·¦è½®ç”µæœº (PWM1)
   - å³è½®ç”µæœº (PWM2)
   - å·®é€Ÿè½¬å‘: `speed_diff = Kp * error`

## ğŸ’» è½¯ä»¶æµç¨‹

### ä¸»å¾ªç¯é€»è¾‘
```c
// ä¼ªä»£ç 
while(1) {
    // 1. è¯»å–ä¼ æ„Ÿå™¨çŠ¶æ€ (10ms)
    sensor_val = read_ir_sensors();
    
    // 2. è®¡ç®—ä½ç½®åå·® (-2.0 ~ +2.0)
    error = calculate_error(sensor_val);
    
    // 3. PIDè®¡ç®—è¾“å‡º
    output = pid_update(&pid, error);
    
    // 4. åˆ†è§£åˆ°ç”µæœº
    left_speed  = BASE_SPEED + output;
    right_speed = BASE_SPEED - output;
    
    // 5. åº”ç”¨é™å¹…
    left_speed  = constrain(left_speed, -255, 255);
    right_speed = constrain(right_speed, -255, 255);
    
    // 6. è¾“å‡ºåˆ°ç”µæœº
    set_motor_speed(MOTOR_LEFT, left_speed);
    set_motor_speed(MOTOR_RIGHT, right_speed);
    
    delay_ms(10); // æ§åˆ¶å‘¨æœŸ
}
```


## ğŸ“ˆ æ§åˆ¶ç­–ç•¥å¯¹ç…§

| åœºæ™¯ | ç›®æ ‡ | ç­–ç•¥ | å…³é”®å‚æ•° |
|------|------|------|----------|
| **ç›´é“** | ç¨³å®šå±…ä¸­ | ä½Kp, ä¸­Kd | `Kp=0.8, Kd=0.2` |
| **å¼¯é“** | å¿«é€Ÿå“åº” | é«˜Kp, é«˜Kd | `Kp=1.5, Kd=0.3` |
| **åå­—çº¿** | ä¿æŒæ–¹å‘ | ç§¯åˆ†é”å®š | `Ki=0` |

